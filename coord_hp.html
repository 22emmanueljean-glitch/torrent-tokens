<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Coordinator – Head-Parallel (Diagnostic)</title>
  <style>
    body { font-family: monospace; background:#111; color:#0f0; }
    button { margin:4px; padding:6px 10px; }
    #log { white-space: pre-wrap; margin-top:10px; background:#000; padding:10px; }
    #out { white-space: pre-wrap; margin-top:10px; background:#000; padding:10px; min-height:80px; color:#fff; }
    label, input, textarea { color:#0f0; background:#000; border:1px solid #0a0; }
  </style>
</head>
<body>
  <h2>Coordinator – Head-Parallel (Diagnostic)</h2>
  <div>Origin: <span id="origin"></span></div>
  <div>Room: <input id="room" value="default" size="12"></div>
  <button id="btnStart">Start Coordinator</button>
  <button id="btnInit">Init Model</button>
  <button id="btnLoad">Load Shards</button>
  <button id="btnDecode">Start Decode</button>
  <button id="btnStop">Stop Decode</button>
  <button id="btnClear">Clear Log</button>
  <button id="btnWTE">Check WTE</button>
  <label><input type="checkbox" id="useReal" checked> Use real weights</label>
  <div>
    <p>Max tokens <input id="maxtok" type="number" value="64"></p>
    <p>Temp <input id="temp" type="number" value="1.0" step="0.1"></p>
    <p>Top-p <input id="topp" type="number" value="0.9" step="0.05"></p>
    <p>Timeout ms <input id="timeout" type="number" value="1200"></p>
  </div>
  <div>
    Prompt<br>
    <textarea id="prompt" rows="3" cols="60">HOW DO I MAKE $28 MILLION?</textarea>
  </div>
  <div>
    <h3>Output</h3>
    <pre id="out"></pre>
  </div>
  <pre id="log"></pre>
  <script type="module">
    import { antiCacheEnsureLatest, bootBanner } from './wire_v2.js';
    await antiCacheEnsureLatest();
    bootBanner('coord_hp.html');
    document.getElementById('origin').textContent = location.origin;
  </script>
  <script type="module" src="./coord_hp.js"></script>
</body>
</html>
